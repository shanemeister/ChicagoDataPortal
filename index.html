<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Map Animation</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <script src='https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.css' rel='stylesheet' />
    <link href="./styles.css" rel="stylesheet" />
</head>

<body>
    <!-- Add this div for the sticky header -->
    <div style="position: fixed; top: 0; width: 100%; background: #fff; z-index: 1000; padding: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <h1>Data Courtesy of the Chicago Data Portal</h1>
        <!-- Move your buttons and select list into the sticky header -->
        <div style="display: flex; justify-content: space-between;">
            <div style="display: flex; align-items: center; margin-left: 4em;">
                <button style="font-size: 1em; padding: 10px 20px; cursor: pointer; border: none; color: white; background-color: #ff0000; border-radius: 10px; box-shadow: 5px 5px 10px rgba(0,0,0,0.3);"
                    onclick="togglecrime()">
                    Toggle Crime Location                </button>
                <div class="display-mode" style="margin-left: 20px;">
                  <label for="display-select">Display Crime as:</label>
                  <select id="display-select">
                    <option value="heatmap">Heatmap</option>
                    <option value="pins">Pins</option>
                  </select>
                </div>
                <div class="crime-type" style="margin-left: 20px;">
                  <label for="crime-select">Select Crime:</label>
                  <select id="crime-select">
                    <!-- Add your crime types here -->
                  </select>
                </div>
                <div class="crime-year" style="margin-left: 20px;">
                  <label for="year-select">Select Year of Crime:</label>
                  <select id="year-select">
                    <!-- Add your years here -->
                  </select>
                </div>
            </div>
            <div style="display: flex; align-items: center; margin-right: 3em;">
              <div class="select-gang" style="margin-left: 20px;">
                <label>Select Gangs:</label>
                <select id="gang-selector">
                  <option value="">Select a gang</option>
                  <!-- Gang options will be added here dynamically -->
                </select>
              </div>
            </div>
        </div>
    </div>

    <div id="map"></div>
    <div id="loading"
        style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 20px; background: rgba(0, 0, 0, 0.5); color: white; display: none;">
        Loading...
    </div>
      <!-- Add this div for the crime count display -->
    <div id="crime-count" class="crime-count-box" style="background-color: red; color: white;">
      Number of <span id="crime-type-text">s</span> in <span id="crime-year-text">Year</span>: <span id="crime-count-text">0</span>
    </div>
    <!-- Add this div for the zoom level display -->
    <div id="zoom-level" class="zoom-level-box">
    Zoom Level: <span id="zoom-text">10.00</span>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Turf.js/5.1.6/turf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chroma-js@2.1.2/chroma.min.js"></script>
    <script type="module" src="./mapanimation.js"></script>
</body>

</html>